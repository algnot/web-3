<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">The outsider | home</title>
    <link rel="stylesheet" href="asset/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="asset/css/index.css">
    <link rel="stylesheet" href="asset/css/member.css">
    <link rel="stylesheet" href="asset/css/home.css">
    <script src="https://kit.fontawesome.com/54cecfcf8f.js" crossorigin="anonymous"></script>

</head>
<body>
    <div id="root"></div>
    <div class="popup" onclick="showMusic()">
        <div class="topic-popup">
            music 
            <svg style="cursor: pointer;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-music-note-beamed" viewBox="0 0 16 16">
                <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13c0-1.104 1.12-2 2.5-2s2.5.896 2.5 2zm9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2z"/>
                <path fill-rule="evenodd" d="M14 11V2h1v9h-1zM6 3v10H5V3h1z"/>
                <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4V2.905z"/>
            </svg>
            <span id="text-song"></span>
        </div>
        
        <div class="music" id="music">
            <center>
                <div class="music-bg" style="background-image: url('asset/photo/music.jpg');"></div>
                <audio id="myAudio" controls autoplay>   
                    <source src="asset/song.mp3" type="audio/mpeg">
                </audio>
            </center>        
        </div>
    </div>

    <script src="asset/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script>
        var stateM = 0;
        var x = document.getElementById("myAudio").autoplay;
        load('member.html','root');

        setInterval(()=>{
            document.getElementById('text-song').innerHTML += '.';
            if(document.getElementById('text-song').innerHTML == '....'){
                document.getElementById('text-song').innerHTML = '';
            }
        },1000);

        function showMusic(){
            if(stateM == 0){
                document.getElementById('music').style.display = 'block';
                stateM = 1;
            } else {
                document.getElementById('music').style.display = 'none';
                stateM = 0;
            }
        }

        function load(file,id){
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                document.getElementById(id).innerHTML = xhttp.responseText;
                }
            };
            xhttp.open("GET",file, true);
            xhttp.send();

            if(file == 'home.html'){
                document.getElementById('title').innerHTML = 'The outsider | home';
            } else if(file == 'member.html'){
                document.getElementById('title').innerHTML = 'The outsider | members';
            }
        }

        function loadUser(id){
            load('member.html','root');
            window.location.hash=id;
            setTimeout(()=>{
                var elmnt = document.getElementById(id);
                elmnt.scrollIntoView();
            },500);
        }
    </script>
</body>
</html>